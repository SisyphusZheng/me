import{a as c,b as i,d as o}from"./chunk-67FELWPG.js";function d({className:s=""}){let[n,a]=c("en-US");return i(()=>{if(typeof window>"u")return;if(window.__currentLocale)console.log(`[LocaleSwitcher] \u4ECE\u5168\u5C40\u83B7\u53D6\u5F53\u524D\u8BED\u8A00: ${window.__currentLocale}`),a(window.__currentLocale);else{let t=localStorage.getItem("preferred_locale")||"en-US";console.log(`[LocaleSwitcher] \u4ECElocalStorage\u83B7\u53D6\u5F53\u524D\u8BED\u8A00: ${t}`),a(t),window.__currentLocale=t}let e=t=>{let l=t;l.detail&&l.detail.locale&&(console.log(`[LocaleSwitcher] \u6536\u5230\u8BED\u8A00\u66F4\u6539\u4E8B\u4EF6: ${l.detail.locale}`),a(l.detail.locale))};return window.addEventListener("localechange",e),()=>{window.removeEventListener("localechange",e)}},[]),o("button",{onClick:()=>{console.log(`[LocaleSwitcher] \u5207\u6362\u8BED\u8A00\uFF0C\u5F53\u524D\u8BED\u8A00: ${n}`);let e=n==="en-US"?"zh-CN":"en-US";console.log(`[LocaleSwitcher] \u8BED\u8A00\u5C06\u5207\u6362\u81F3: ${e}`),typeof window<"u"&&(window.__currentLocale=e);let t=new CustomEvent("localechange",{detail:{locale:e}});window.dispatchEvent(t),localStorage.setItem("preferred_locale",e),a(e),document.title=e==="zh-CN"?"FreshPress - \u4E2D\u6587":"FreshPress";let r=window.location.pathname.replace(/^\/(zh-CN|en-US)\//,"/");r==="/"||r===""?window.location.href=`/${e}`:window.location.href=`/${e}${r}`},class:`language-switch ${s} text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white transition-colors focus:outline-none`,"aria-label":`\u5F53\u524D\u8BED\u8A00: ${n==="en-US"?"English":"\u4E2D\u6587"}`,title:`\u5207\u6362\u8BED\u8A00 (${n==="en-US"?"English \u2192 \u4E2D\u6587":"\u4E2D\u6587 \u2192 English"})`,children:o("div",{class:"flex items-center",children:[o("span",{class:"mr-1 font-medium",children:n==="en-US"?"EN":"\u4E2D"}),o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[o("path",{d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18z"}),o("path",{d:"M3.6 9h16.8"}),o("path",{d:"M3.6 15h16.8"}),o("path",{d:"M12 3a15 15 0 0 1 0 18"}),o("path",{d:"M12 3a15 15 0 0 0 0 18"})]})]})})}export{d as a};
